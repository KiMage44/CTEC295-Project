<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script type='text/javascript' src="googleAPI.js"></script>
    <script src="main.js"></script>
    <!--BootStrap JS and CSS Imports----->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="main.css">
  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse"
            data-target="#main-navbar">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a href="#" class="navbar-brand">Draw.Net</a>
        </div>
        <div class="collapse navbar-collapse" id="main-navbar">
            <ul class="nav navbar-nav">
                <li>Pencils</li>

                <!-----You can change the buttons to onclick buttons
                    and just the Method name to what needs to be displayed
                    for more buttons just copy and paste and change as needed
                    ------->

                <li><button>Method 1</button></li>
                <li><button>Method 2</button></li>
                <li><button>Method 3</button></li>
                <li>Pens</li>
                <li><button>Method 1</button></li>
                <li><button>Method 2</button></li>
                <li><button>Method 3</button></li>
                <li>Shapes</li>
                <li><button onclick="drawShape('circle',20,20,5,5)">Circle</button></li>
                <li><button onclick="drawShape('rectangle',0,0,20,20)">Rectangle</button></li>
                <li>Color</li>
                <li><button id="blue" onclick="setColor('#0000ff')";>Blue</button></li>
                <li><button id="green" onclick="setColor('#008000')">Green</button></li>
                <li><button id="purple" onclick="setColor('#800080')">Purple</button></li>
                <li><button id="orange" onclick="setColor('#FFA500')">Orange</button></li>
                <li><button id="yellow" onclick="setColor('#FFFF00')">Yellow</button></li>
                <li><button id="red" onclick="setColor('#FF0000')">Red</button></li>
                <li><button id="black" onclick="setColor('#000000')">Black</button></li>
                <li><button id="white" onclick="setColor('#ffffff')">White</button></li>
                <li>Save</li>
                <li><button>Color </button></li>
                <li>Options</li>
                <li><button>Option 1 </button></li>
                <li><button>Option 2 </button></li>
                <li>Clear</li>
                <li><button onclick="wipeCanvas()">Clear</button></li>
            </ul>
        </div>
      </div>

    <!--Add buttons to initiate auth sequence and sign out-->
    <ul id="googleAccessMenu">
      <li><button id="signInDrive" onclick="handleAuthClick()">Authorize</button></li>
      <li><button id="signInDrive" onclick="handleSignoutClick()">Sign Out</button></li>
      <li><input type="file" id="fileInput"></input></li>
      <li><button id="uploadDrive" onclick="saveCanvastoDrive()">Upload File to Drive</button></li>
      <li><button id="IMGtoCanvas" onclick="loadImagetoCanvas()">loadImagetoCanvas</button></li>
    </ul>

    <canvas id="drawingCanvas" width="800" height="600"></canvas>
    <script async defer src="https://apis.google.com/js/api.js"
      onload="this.onload=function(){};handleClientLoad()"
      onreadystatechange="if (this.readyState === 'complete') this.onload()">
    </script>
    <script type="text/javascript">
      this.onload = function() {
        initialContentSetup(this);
        initiate(this);
        console.log("initiate functions completed");
      }
      async function saveCanvastoDrive(){
        var image = Window.canvas.toDataURL("image/png");
        let imageFile = await (fetch(image).then(function(res){return res.arrayBuffer();}).then(function(buf){Window.currentFile = new File([buf],"test.png",{type:"image/png"})}));
        postFileToDrive();
      }
    </script>
  </body>
</html>
